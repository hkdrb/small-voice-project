# 修正内容の確認 (Walkthrough)

## 実施した変更

### バックエンド
- **`backend/api/auth.py`**:
    - `UserUpdate` モデルの `username` フィールドを `str | None = None` に変更しました。これにより、表示名を変えずにパスワードだけ変更する場合なども柔軟に扱えるようになりました。
    - `update_profile` エンドポイントで、リクエストに含まれる `username` が `None` でない場合のみ更新処理を行うようにしました。

### フロントエンド
- **`frontend/src/components/ProfileSettingsModal.tsx`**:
    - 名前（表示名）のフィールド名を `username` に修正しました。
    - パスワード変更時に必須となる「現在のパスワード」入力フィールドを追加しました。
    - 全体的なエラーハンドリングを改善し、バックエンドからのエラー詳細（`detail`）を優先的に表示するようにしました。
- **`frontend/src/components/Sidebar.tsx`**:
    - コンポーネント内で使用するユーザー属性を `username` に統一しました。

## 動作確認のポイント
1. プロフィール設定モーダルを開き、名前を変更して「変更を保存」をクリック。
    - ページがリロードされ、変更した名前が反映されること。
2. 新しいパスワードを入力すると「現在のパスワード」フィールドが出現すること。
3. 現在のパスワードが正しくない場合、エラーメッセージが表示されること。
